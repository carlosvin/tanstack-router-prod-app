{"version":3,"file":"books._bookId-DyOl0sLw.js","sources":["../../src/routes/books.$bookId.tsx?tsr-split=component"],"sourcesContent":["import { createFileRoute, useRouter } from \"@tanstack/react-router\"\nimport { Authors } from \"@/components/Authors\"\nimport { fetchBook } from \"@/services/api/books\"\n\nexport const Route = createFileRoute(\"/books/$bookId\")({\n  component: BookComponent,\n  loaderDeps: ({ search: { search } }) => ({ search }),\n  loader: async ({ parentMatchPromise, params: { bookId } }) => {\n    const { loaderData } = await parentMatchPromise\n\n    const book = loaderData?.results.find((b) => b.id === Number(bookId))\n    if (!book) {\n      return { book: await fetchBook(Number(bookId)) }\n    }\n\n    return { book }\n  },\n})\n\nfunction BookComponent() {\n  const { book } = Route.useLoaderData()\n  const router = useRouter()\n  return (\n    <dialog open>\n      <article>\n        <header>\n          <button\n            aria-label=\"Close\"\n            rel=\"prev\"\n            onClick={() => router.history.back()}\n            type=\"button\"\n          ></button>\n          <hgroup>\n            <h2>{book.title}</h2>\n            <Authors authors={book.authors} />\n          </hgroup>\n        </header>\n        <p>{book.summaries[0]}</p>\n      </article>\n    </dialog>\n  )\n}\n"],"names":["BookComponent","book","Route","useLoaderData","router","useRouter","jsx","jsxs","history","back","title","Authors","authors","summaries"],"mappings":"gGAmBA,SAASA,GAAgB,CACvB,KAAM,CAAEC,KAAAA,CAAAA,EAASC,EAAMC,cAAAA,EACjBC,EAASC,EAAAA,EACf,OACEC,EAAAA,IAAC,SAAA,CAAO,KAAI,GACV,gBAAC,UAAA,CACC,SAAA,CAAAC,OAAC,SAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,aAAW,QACX,IAAI,OACJ,QAAS,IAAMF,EAAOI,QAAQC,KAAAA,EAC9B,KAAK,QAAA,CACN,SACA,SAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,KAAA,CAAIL,WAAKS,KAAAA,CAAM,EAChBJ,EAAAA,IAACK,EAAA,CAAQ,QAASV,EAAKW,OAAAA,CAAQ,CAAA,CAAA,CACjC,CAAA,EACF,EACAN,EAAAA,IAAC,IAAA,CAAGL,SAAAA,EAAKY,UAAU,CAAC,CAAA,CAAE,CAAA,CAAA,CACxB,CAAA,CACF,CAEJ"}